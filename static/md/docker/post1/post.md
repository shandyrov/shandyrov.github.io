# Шпаргалка Docker.

### Команды управления контейнером.

| Команда                        | Описание                               |
| ------------------------------ | -------------------------------------- |
| docker create image [ command] | создать контейнер                      |
| docker run image...            | create + start                         |
| docker start container...      | запустить контейнер                    |
| docker stop container...       | остановить контейнер                   |
| docker kill container...       | уничтожить (SIGKILL) контейнер         |
| docker restart container...    | stop + start                           |
| docker pause container...      | приостановить работу контейнер         |
| docker unpause container...    | возобновить работу контейнера          |
| docker rm container...         | удалить контейнер                      |
| docker rm -f container...      | позволяет удалять работающий контейнер |

### Инспекция контейнера.

| Команда                           | Описание                                            |
| --------------------------------- | --------------------------------------------------- |
| docker ps                         | список запущенных контейнеров                       |
| docker ps -a                      | список всех контейнеров                             |
| docker logs -f container          | показать вывод контейнера                           |
| docker top container [ps OPTIONS] | перечислить процессы, запущенные внутри контейнеров |
| docker diff container             | показать различия с образом (измененные файлы)      |
| docker inspect container...       | показать низкоуровневую информацию                  |

### Взаимодействие с контейнером

| Команда                                            | Описание                                                                                    |
| -------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| docker attach _container_                          | Присоединение локальных стандартных потоков ввода, вывода и ошибок к работающему контейнеру |
| docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH   | копирование файлов из контейнера                                                            |
| docker cp [OPTIONS] SRC_PATH - CONTAINER:DEST_PATH | копирование файлов в контейнер                                                              |
| docker export _container_                          | экспортировать содержимое контейнера (tar-архив)                                            |
| docker exec _container_ args...                    | запустить команду в существующем контейнере (полезно для отладки)                           |
| docker wait _container_                            | дожидается завершения контейнера и возращает код выхода                                     |
| docker commit _container_ _image_                  | зафиксировать новый образ докера (снимок контейнера)                                        |

### Команды управления образами

| Команда                           | Описание                                            |
| --------------------------------- | --------------------------------------------------- |
| docker images                     | перечислить все локальные образы                    |
| docker history image              | показать историю образов                            |
| docker inspect image...           | показать низкоуровневую информацию (в json формате) |
| docker tag image tag              | пометить изображение                                |
| docker commit _container_ _image_ | создать образ (из контейнера)                       |
| docker import url -[tag]          | создать образ (из архива)                           |
| docker rmi image                  | удаление образов                                    |

### Основные команды построителя

| Команда              | Описание                                                         |
| -------------------- | ---------------------------------------------------------------- |
| FROM _image_ scratch | базовый образ для сборки                                         |
| MAINTAINER email     | имя сопровождающего                                              |
| COPY _path_ _dst_    | скопировать путь из контекста в контейнер в место назначения     |
| ADD src dst          | то же, что и COPY, но распаковывает архивы и принимает http urls |
| RUN args...          | запускает произвольную команду внутри контейнера                 |
| USER name            | установливает имя пользователя по умолчанию                      |
| WORKDIR _path_       | установливает рабочий каталог по умолчанию                       |
| CMD args...          | установливает команду по умолчанию                               |
| ENV name value       | установливает переменную среды                                   |
